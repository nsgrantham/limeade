<!doctype html>

<html lang='en'>
<head>
  <meta charset='utf-8'>
  <link rel='shortcut icon' href=''>
  <title>Limeade Viz</title>
  <script src='https://d3js.org/d3-selection.v1.min.js'></script>
  <script src='https://d3js.org/d3-fetch.v1.min.js'></script>
  <script src='./bundle.js'></script>
</head>

<body>
  <button class='bar-data'>Click me</button>
  <div class='predict-proba'></div>
  <div class='local-exp'></div>
  <script>

    d3.json('./data/predict-proba.json', function(d) {
      return {
        label: d.label,
        group: d.group,
        proba: +d.proba
      };
    }).then(data => {
      var predictProba = new limeade.BarChart({
        element: document.querySelector('.predict-proba'), 
        data: data
      });
      d3.select('button.bar-data').on('click', function() {
        predictProba.setData(data.reverse());
      });
    });
    
    d3.json('./data/local-exp.json', function(d) {
      return {
        label: d.label,
        group: d.group,
        proba: +d.proba
      };
    }).then(data => {
      var localExp = new limeade.BarChart({
        element: document.querySelector('.local-exp'),
        data: data
      });
    });

  </script>
</body>
</html>